<!DOCTYPE html>
<html>
    <head>
        <title>회원관리</title>
        <meta charsett="utf-8"/>
    </head>
<body onload="pageload();">
    <h3>회원관리</h3>
    <div style="width:360px; height:70px; padding: 8px; border: double">
        회원정보입력<br>
        성명: <input type="text" size="10" id="name"><br>
        이메일: <input type="text" size="30" id="email"> 
                &nbsp;<input type="button" value="추가" onclick="SaveItem()">
    </div>
    <p style ="margin: 10px">회원 목록 보기</p>
    <div style="background-color: #dofoff; width: 360px; height: 45px; padding: 8px; border: double">
        성명선택: <select id="nameList" style="width: 100px" onchange="viewContent()"></select><br>
        이메일: <span id="emailAddr">&nbsp;</span> <br> 
        
    </div>
    <script type="text/javascript">
    var localStorage = window.localStorage
    var itemList = document.getElementById("nameList");
    var itemAddr = document.getElementById("emailAddr");
    var u_name = document.getElementById("name");
    var u_email = document.getElementById("email");
    
        
    if (!localStorage) {
        alert("로컬 스토리지를 지원하지 않습니다.");
    }
    
    function pageload() {
        itemList.innerHTML = "";
        itemAddr.innerHTML = "";
        
        for (var i =0; i <= localStorage.length - 1; i++) {
            var key = localStorage.key(i);
            itemList.options[itemList.options.length] = new Option(key, key);
        }
    }
        
    function SaveItem() {
        localStorage.setItem(u_name.value, u_email.value);
        pageload();
    }
        

    function viewContent() {
        var option_key = itemList.options[itemList.selectedIndex].value;
        itemAddr.innerHTML = localStorage.getItem(option_key);
    }
    
    </script>
    </body>
</html>